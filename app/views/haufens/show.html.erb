<% cache ({:l => @l, :page => params[:page] || 1}) do %>

<div class="pagelabel">
<%= haufens_label %> 
<% if @opinion_weight > 0 %>
<%= '(' + show_all_label + ' - ' if params[:action] == 'show' && @opinion_weight > 0 %> 
<%= (link_to show_opinions_label(@opinion_weight) + ')',  {:controller => 'haufens', :action => 'filter_haufen_by_opinions', :id => params[:id], :l => @l}) if params[:action] == 'show'  %>

<%= link_to '(' + show_all_label,  { :action => 'show', :id => params[:id], :l => @l} if params[:action] == 'filter_haufen_by_opinions' %>
<%= ' - ' + show_opinions_label(@opinion_weight) +')'  if params[:action] == 'filter_haufen_by_opinions' %>
<% end %>
</div>
  <%= render :partial => @haufen_stories %>

<%= will_paginate(@haufen_stories, options = {:prev_label => previous_label + ' &nbsp - &nbsp ', :next_label => ' &nbsp - &nbsp ' + next_label}) %>
<br>

<% end %>